

1- "VIOS Profile Creation Program":
Is to create your dual VIO servers profiles (VIOS Profile Creation Program):

HMC$ . vios_prof
Version 16
##################################################################
Hello! My name's Mash ©,  This program will help you create 2 VIO
Servers. It's only for internal use and should not be supplied to
Customers. Copyright 2015 by Ahmed Mashhour <ahdmashr@eg.ibm.com>
##################################################################

You have The following system(s) managed by this HMC:

P8-214423W
P8_213C93A
P8-212B8BW

Please enter your preferred managed sysyem in which you will create both VIO servers in
P8-212B8BW

Please enter your first VIOS partition Name
S1-VIOS1

Please enter your second VIOS partition name
S1-VIOS2


name=S1-VIOS1,lpar_id=1,lpar_env=vioserver,state=Not Activated,resource_config=0,os_version=Unknown,logical_serial_num=null,default_profile=default,curr_profile=,work_group_id=none,shared_proc_pool_util_auth=0,allow_perf_collection=0,power_ctrl_lpar_ids=none,boot_mode=norm,lpar_keylock=norm,auto_start=0,redundant_err_path_reporting=0,rmc_state=inactive,rmc_ipaddr=,msp=0,time_ref=0,lpar_avail_priority=191,desired_lpar_proc_compat_mode=default,curr_lpar_proc_compat_mode=POWER8,sync_curr_profile=1,affinity_group_id=none,vtpm_enabled=0,powervm_mgmt_capable=0


name=S1-VIOS2,lpar_id=2,lpar_env=vioserver,state=Not Activated,resource_config=0,os_version=Unknown,logical_serial_num=null,default_profile=default,curr_profile=,work_group_id=none,shared_proc_pool_util_auth=0,allow_perf_collection=0,power_ctrl_lpar_ids=none,boot_mode=unavailable,lpar_keylock=unavailable,auto_start=unavailable,redundant_err_path_reporting=0,rmc_state=none,msp=0,time_ref=0,lpar_avail_priority=191,desired_lpar_proc_compat_mode=default,curr_lpar_proc_compat_mode=POWER8,sync_curr_profile=1,affinity_group_id=none,vtpm_enabled=0,powervm_mgmt_capable=0

S1-VIOS1 and S1-VIOS2 created successfully at your P8-212B8BW managed system.



2- "VIOS Virtual ethernet Adapters Creation Program":
Is to create your virtual ethernet adapters on both VIO servers, it will  create two ethernet adapters;
One for your additional VLANs, and the other for the control channel:

HMC$ . vios_eth.sh
Version 16
#####################################################################
Hello! My name's Mash ©,  This program will help you create 2 virtual
Ethernet adapters with their additional VLAN IDs and trunk priorities
In each VIOS server. The program is only for internal use and should
Not be supplied to customers
 Copyright 2015 by Ahmed (Mash)Mashhour <ahdmashr@eg.ibm.com>
###################################################################

You have The following system(s) managed by this HMC:

P8-214423W
P8_213C93A
P8-212B8BW

Please enter your preferred managed sysyem in which you will configure the VLANs
P8-212B8BW

Please enter your first VIOS partition Name
S1-VIOS1

Please enter your second VIOS partition name
S1-VIOS2

Please enter the additional VLAN ID(s) you want to add separated by a simple comma
Example
          If you want to add a single VLAN only like 55, then just write 55 and press enter
          If you want to add multiple VLAN IDs like 55 66 77.., then just write them separated by simple comman:
          55,66,77












3- "LPARs auto creation Program"
Is to create your desired number of LPARs, as much as you want:

HMC$ . lpars_auto.sh
Version16
#####################################################################
Hello! My name's Mash ©, This program will help you automate LPAR's
Creaion. It's only for internal use and should not be supplied
To Customers. Copyright 2015 by Ahmed Mashhour <ahdmashr@eg.ibm.com>
######################################################################

You have The following system(s) managed by this HMC:

P8-214423W
P8_213C93A
P8-212B8BW

Please enter your preferred managed sysyem in which you will create the LPAR's In
P8-212B8BW

Please enter your first VIOS partition Name
S1-VIOS1

Please enter your second VIOS partition name
S1-VIOS2

Please enter The number of LPAR's you want to create
2

Pleease enter the LPAR names you want to create separated by a normal space, then press the enter button once finished
backup_app web_server



For backup_app LPAR
The 1st virtual fiber adapter id is: 91
The 2nd virtual fiber adapter id is: 92
The 3rd virtual fiber adapter id is: 93
The 4th virtual fiber adapter id is: 94



For web_server LPAR
The 1st virtual fiber adapter id is: 101
The 2nd virtual fiber adapter id is: 102
The 3rd virtual fiber adapter id is: 103
The 4th virtual fiber adapter id is: 104

2 LPAR(s) Successfully Created
All with one virtual ethernet adapter and four virtual fiber cards from both S1-VIOS1 and S1-VIOS2 servers



You have all the following LPAR's in your P8-212B8BW with the following LPAR_ids:
S1-VIOS1,1
S1-VIOS2,2
backup_app,9
web_server,10


The newly created LPARs will be activated and shutdown to activate the fiber cards so we can get the WWPN

Please wait until the LPARs are getting recycled
Now your WWPNs for newly created LPARs are:
backup_app,"c0507608eb2b044a,c0507608eb2b044b"
backup_app,"c0507608eb2b0448,c0507608eb2b0449"
backup_app,"c0507608eb2b0446,c0507608eb2b0447"
backup_app,"c0507608eb2b0444,c0507608eb2b0445"
web_server,"c0507608eb2b044c,c0507608eb2b044d"
web_server,"c0507608eb2b0452,c0507608eb2b0453"
web_server,"c0507608eb2b0450,c0507608eb2b0451"
web_server,"c0507608eb2b044e,c0507608eb2b044f"